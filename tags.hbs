<canvas id="word_cloud" class="word_cloud"></canvas>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"></script>
<script src="https://pulipulichen.github.io/blogger/posts/2016/11/r-text-mining/wordcloud2.js"></script>
<script>
    var canvas = document.getElementById("word_cloud");
    canvas.width  = window.innerWidth;
    canvas.height = window.innerHeight;
    // Get all tags data API
    wordCloudData = [];
    $.get('/ghost/api/canary/admin/tags/?limit=all&include=count.posts').done(function (data){
        for(var i=0 ;i<data.tags.length;i++){
            var temp = [];
            temp.push(data.tags[i].name);
            temp.push(data.tags[i].count.posts).toString();
            wordCloudData.push(temp);
        };
        var options = { 
            list : wordCloudData,      
            weightFactor: function (size) {
                return (size === 1) ? '30' : Math.pow(size, 6) * document.getElementById('word_cloud').offsetWidth / 1024;
            },
            rotateRatio: 0,
            color: '#343f44',
            click: function(item) {
                window.location.href = "/tag/" + item[0];
            }
        }
        WordCloud(document.getElementById('word_cloud'), options);
    }).fail(function (err){
        console.log(err);
    });
    
</script>